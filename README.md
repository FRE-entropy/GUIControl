# GUIControl - 手势控制GUI应用

<div align="center">
  <p>
    <a href="README_EN.md">English</a> | 
    <a href="README.md">中文</a>
  </p>
</div>

一个基于Python的手势识别和鼠标控制应用程序，使用摄像头捕捉手势来控制计算机的鼠标操作。

## 功能特性

- **实时手势识别**: 使用MediaPipe库进行高精度的手势检测
- **鼠标控制**: 通过手势实现鼠标移动、点击等操作
- **性能优化**: 针对后台运行进行了性能优化
- **错误处理**: 完善的错误处理和资源管理机制
- **可扩展架构**: 模块化设计，易于添加新的手势功能

## 系统要求

- Python 3.12+
- Windows操作系统
- 摄像头设备

## 安装依赖

项目使用uv作为包管理器，安装依赖：

```bash
uv sync
```

### 主要依赖包

- `mediapipe>=0.10.21` - 手势识别核心库
- `opencv-python>=4.11.0.86` - 图像处理和摄像头控制
- `pyautogui>=0.9.54` - 鼠标和键盘控制
- `pywin32>=311` - Windows系统API调用
- `keyboard>=0.13.5` - 键盘事件监听
- `psutil>=7.1.3` - 系统进程管理

## 项目结构

```
GUIControl/
├── main.py                 # 主程序入口
├── utils/
│   ├── hgr_utils.py        # 手势识别工具类
│   └── gui_utils.py        # GUI控制工具类
├── data/                   # 数据存储目录
│   └── hand_landmarks.npy  # 手势数据文件
├── pyproject.toml          # 项目配置和依赖
└── README.md              # 项目说明文档
```

## 使用方法

### 启动应用程序

运行主程序：

```bash
python main.py
```

### 基本操作

1. 程序启动后会自动打开摄像头
2. 将手放在摄像头前进行手势识别
3. 系统会实时检测手势并转换为鼠标操作
4. 按 `Ctrl+C` 退出程序

### 手势功能

目前支持的手势功能：

- **鼠标移动**: 当中指与拇指接触时，以食指为检测点来控制鼠标指针移动
- **点击操作**: 当食指和拇指接触时触发鼠标点击
- **暂停/恢复**: 手部离开摄像头范围时自动暂停控制

## 技术架构

### 核心组件

1. **GestureControl类** (`main.py`)
   - 主控制类，管理整个手势控制流程
   - 负责初始化、错误处理、性能监控

2. **HGRUtils类** (`utils/hgr_utils.py`)
   - 手势识别核心功能
   - 基于MediaPipe的手势检测
   - 摄像头控制和图像处理

3. **GUIController类** (`utils/gui_utils.py`)
   - GUI控制接口
   - 鼠标操作封装

### 性能优化

- **帧率控制**: 目标30FPS，确保流畅运行
- **内存优化**: 预分配内存和缓存机制
- **后台优化**: 针对后台运行的系统优化
- **错误恢复**: 自动错误计数和恢复机制

## 开发指南

### 添加新手势功能

1. 在 `main.py` 中的 `function_list` 添加新的手势功能类
2. 实现手势识别逻辑
3. 集成到主控制循环中

### 自定义配置

可以通过修改 `main.py` 中的常量来调整系统行为：

```python
# 帧率设置
TARGET_FPS = 30

# 数据目录
DEFAULT_DATA_DIR = "./data"

# 控制方法
DEFAULT_CONTROL_METHOD = "hardware"

# 错误处理
MAX_ERROR_COUNT = 5
```

## 故障排除

### 常见问题

1. **摄像头无法打开**
   - 检查摄像头是否被其他程序占用
   - 确保摄像头驱动程序正常

2. **手势识别不准确**
   - 确保光线充足
   - 调整手部与摄像头的距离
   - 检查摄像头分辨率设置

3. **性能问题**
   - 关闭不必要的后台程序
   - 降低摄像头分辨率（在代码中调整）

### 调试模式

程序包含详细的日志输出，可以帮助诊断问题：

- 启动信息
- 错误报告
- 性能统计

## 贡献指南

欢迎提交Issue和Pull Request来改进项目。

### 开发环境设置

1. 克隆项目
2. 安装依赖
3. 运行测试脚本：`python test.py`

## 许可证

本项目采用MIT许可证。

## 更新日志

### v0.1.0
- 初始版本发布
- 基础手势识别功能
- 鼠标控制功能
- 性能优化和错误处理

## 联系方式

如有问题或建议，请通过项目Issue页面提交反馈。
QQ: 2655998023